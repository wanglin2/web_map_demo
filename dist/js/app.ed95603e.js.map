{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Old.vue?7aad","webpack:///./src/App.vue","webpack:///./src/Old.vue","webpack:///./src/utils.js","webpack:///./src/Old.vue?68a3","webpack:///./src/New.vue","webpack:///./src/New.vue?648e","webpack:///./src/App.vue?6697","webpack:///./src/main.js","webpack:///./src/New.vue?d5a9","webpack:///./src/App.vue?0586"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","comp","ref","onMousedown","center","angleToRad","angle","Math","PI","radToAngle","rad","EARTH_RAD","lngLat2Mercator","lng","lat","x","sin","y","log","mercatorToLngLat","atan","exp","EARTH_PERIMETER","TILE_SIZE","getResolution","tileNums","pow","tileTotalPx","resolutions","transformXY","getTileRowAndCol","z","resolution","row","floor","col","getPxFromLngLat","_x","_y","getTileUrl","domainIndexList","domainIndex","random","ctx","zoom","shouldRender","this","url","cacheKey","img","loaded","timer","createUrl","load","Image","src","setTimeout","onload","clearTimeout","render","drawImage","width","height","rowCount","colCount","halfRowCount","halfColCount","isMousedown","tileCache","currentTileCache","minZoom","maxZoom","lastZoom","scale","scaleTmp","playback","mounted","initCanvas","getCount","renderTiles","addEventListener","onMousemove","onMouseup","onMousewheel","beforeUnmount","removeEventListener","methods","$refs","map","getBoundingClientRect","canvas","getContext","translate","paddingCount","ceil","centerTile","centerTilePos","centerPos","offset","centerTileIndex","offsetIndex","updatePos","clear","clearRect","e","which","mx","movementX","my","movementY","deltaY","stop","from","to","onUpdate","latest","save","keys","forEach","tile","restore","onComplete","__exports__","layer","opacity","fadeInDuration","image","isFadeIn","add","fadeIn","base","anim","Animation","frame","time","start","stage","layer1","layer2","useLayer1","init","mapBox","Stage","container","Layer","updateLayer","clearLayer","removeChildren","resetLayer","currentLayer","willLayer","zIndex","components","New","Old","createApp","App","mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,QAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,kGCvJT,W,sGCCOyC,MAAM,O,GACJA,MAAM,gB,GAGNA,MAAM,Y,2DAJb,eAQM,MARN,EAQM,CAPJ,eAEM,MAFN,EAEM,E,iBADJ,eAAkC,eAAlB,EAAAC,UAElB,eAGM,MAHN,EAGM,CAFF,eAA4F,OAAvFD,MAAK,gBAAC,MAAK,QAA2B,QAA3B,KAAuBC,QAAkB,QAAK,iCAAOA,KAAI,SAAU,MAAG,GACtF,eAA4F,OAAvFD,MAAK,gBAAC,MAAK,QAA2B,QAA3B,KAAuBC,QAAkB,QAAK,iCAAOA,KAAI,SAAU,MAAG,O,wFCNvFD,MAAM,MAAME,IAAI,O,GAEdF,MAAM,U,uBACX,eAA8B,OAAzBA,MAAM,cAAY,Y,uBACvB,eAA8B,OAAzBA,MAAM,cAAY,Y,gDAJzB,eAKM,MALN,EAKM,CAJJ,eAAuD,UAA/CE,IAAI,SAAU,YAAS,8BAAE,EAAAC,aAAA,EAAAA,YAAA,sB,UACjC,eAAqE,MAArE,EAAqE,oBAAzCC,OAAM,YAAiBA,OAAM,OACzD,EACA,G,KCyCJ,I,oHA7CMC,EAAa,SAACC,GAChB,OAAOA,GAASC,KAAKC,GAAK,MAIxBC,EAAa,SAACC,GAChB,OAAOA,GAAO,IAAMH,KAAKC,KAIvBG,EAAY,QAGLC,EAAkB,SAACC,EAAKC,GAEjC,IAAIC,EAAIV,EAAWQ,GAAOF,EAEtBD,EAAML,EAAWS,GAEjBE,EAAMT,KAAKS,IAAIN,GACfO,EAAKN,EAAY,EAAKJ,KAAKW,KAAK,EAAIF,IAAQ,EAAIA,IACpD,MAAO,CAACD,EAAGE,IAIFE,EAAmB,SAACJ,EAAGE,GAChC,IAAIJ,EAAMJ,EAAWM,GAAKJ,EACtBG,EAAML,EAAW,EAAIF,KAAKa,KAAKb,KAAKc,IAAIJ,EAAIN,IAAcJ,KAAKC,GAAK,GACxE,MAAO,CAACK,EAAKC,IAIXQ,EAAkB,EAAIf,KAAKC,GAAKG,EAEzBY,EAAY,IAGZC,EAAgB,SAAChC,GAC1B,IAAMiC,EAAWlB,KAAKmB,IAAI,EAAGlC,GACvBmC,EAAcF,EAAWF,EAC/B,OAAOD,EAAkBK,GAIhBC,EAAc,GAClBnF,EAAI,EAAGA,GAAK,GAAIA,IACrBmF,EAAY3E,KAAKuE,EAAc/E,IAI5B,IAAMoF,EAAc,SAACd,EAAGE,GAG3B,OAFAF,GAAKO,EAAkB,EACvBL,EAAIK,EAAkB,EAAIL,EACnB,CAACF,EAAGE,IAIFa,EAAmB,SAACf,EAAGE,EAAGc,GACnC,IAAI9C,EAAI4C,EAAYd,EAAGE,GACvBF,EAAI9B,EAAE,GACNgC,EAAIhC,EAAE,GACN,IAAI+C,EAAaJ,EAAYG,GACzBE,EAAM1B,KAAK2B,MAAMnB,EAAIiB,EAAaT,GAClCY,EAAM5B,KAAK2B,MAAMjB,EAAIe,EAAaT,GACtC,MAAO,CAACU,EAAKE,IAIJC,EAAkB,SAACvB,EAAKC,EAAKiB,GACtC,MAAeF,EAAW,WAAX,iBAAejB,EAAgBC,EAAKC,KAAnD,sBAAKuB,EAAL,KAASC,EAAT,KACIN,EAAaJ,EAAYG,GACzBhB,EAAIR,KAAK2B,MAAMG,EAAKL,GACpBf,EAAIV,KAAK2B,MAAMI,EAAKN,GACxB,MAAO,CAACjB,EAAGE,IAIFsB,EAAa,SAACxB,EAAGE,EAAGc,GAC7B,IAAIS,EAAkB,CAAC,EAAG,EAAG,EAAG,GAC5BC,EACAD,EAAgBjC,KAAK2B,MAAM3B,KAAKmC,SAAWF,EAAgB7F,SAC/D,8BAAwB8F,EAAxB,yCAAoE1B,EAApE,cAA2EE,EAA3E,cAAkFc,EAAlF,uCD5DE,E,WACJ,cAAyD,IAA3CY,EAA2C,EAA3CA,IAAKV,EAAsC,EAAtCA,IAAKE,EAAiC,EAAjCA,IAAKS,EAA4B,EAA5BA,KAAM7B,EAAsB,EAAtBA,EAAGE,EAAmB,EAAnBA,EAAG4B,EAAgB,EAAhBA,aAAgB,uBAEvDC,KAAKH,IAAMA,EAEXG,KAAKb,IAAMA,EACXa,KAAKX,IAAMA,EAEXW,KAAKF,KAAOA,EAEZE,KAAK/B,EAAIA,EACT+B,KAAK7B,EAAIA,EAET6B,KAAKD,aAAeA,EAEpBC,KAAKC,IAAM,GAEXD,KAAKE,SAAWF,KAAKb,IAAM,IAAMa,KAAKX,IAAM,IAAMW,KAAKF,KAEvDE,KAAKG,IAAM,KAEXH,KAAKI,QAAS,EAEdJ,KAAKK,MAAQ,KAEbL,KAAKM,YACLN,KAAKO,O,gDAIP,WACEP,KAAKC,IAAMR,EAAWO,KAAKb,IAAKa,KAAKX,IAAKW,KAAKF,Q,kBAIjD,WAAO,WACLE,KAAKG,IAAM,IAAIK,MACfR,KAAKG,IAAIM,IAAMT,KAAKC,IAEpBD,KAAKK,MAAQK,YAAW,WACtB,EAAKJ,YACL,EAAKC,SACJ,KACHP,KAAKG,IAAIQ,OAAS,WAChBC,aAAa,EAAKP,OAClB,EAAKD,QAAS,EACd,EAAKS,Y,oBAKT,WACOb,KAAKI,QAAWJ,KAAKD,aAAaC,KAAKE,WAG5CF,KAAKH,IAAIiB,UAAUd,KAAKG,IAAKH,KAAK/B,EAAG+B,KAAK7B,K,uBAI5C,SAAUF,EAAGE,GAGX,OAFA6B,KAAK/B,EAAIA,EACT+B,KAAK7B,EAAIA,EACF6B,S,KAII,GACbvE,KAAM,MACNpC,KAFa,WAGX,MAAO,CAEL0H,MAAO,EACPC,OAAQ,EAERC,SAAU,EACVC,SAAU,EACVC,aAAc,EACdC,aAAc,EAEdC,aAAa,EAEbC,UAAW,GAEXC,iBAAkB,GAElBjE,OAAQ,CAAC,WAAY,WAErBwC,KAAM,GAGN0B,QAAS,EACTC,QAAS,GAET5B,IAAK,KAEL6B,SAAU,EACVC,MAAO,EACPC,SAAU,EACVC,SAAU,OAGdC,QAnCa,WAoCX9B,KAAK+B,aACL/B,KAAKgC,WACLhC,KAAKiC,cACLlF,OAAOmF,iBAAiB,YAAalC,KAAKmC,aAC1CpF,OAAOmF,iBAAiB,UAAWlC,KAAKoC,WACxCrF,OAAOmF,iBAAiB,QAASlC,KAAKqC,eAExCC,cA3Ca,WA4CXvF,OAAOwF,oBAAoB,YAAavC,KAAKmC,aAC7CpF,OAAOwF,oBAAoB,UAAWvC,KAAKoC,WAC3CrF,OAAOwF,oBAAoB,QAASvC,KAAKqC,eAE3CG,QAAS,CAEPT,WAFO,WAIL,MAAwB/B,KAAKyC,MAAMC,IAAIC,wBAAjC5B,EAAN,EAAMA,MAAOC,EAAb,EAAaA,OACbhB,KAAKe,MAAQA,EACbf,KAAKgB,OAASA,EAEd,IAAI4B,EAAS5C,KAAKyC,MAAMG,OACxBA,EAAO7B,MAAQf,KAAKe,MACpB6B,EAAO5B,OAAShB,KAAKgB,OACrBhB,KAAKH,IAAM+C,EAAOC,WAAW,MAE7B7C,KAAKH,IAAIiD,UAAU9C,KAAKe,MAAQ,EAAGf,KAAKgB,OAAS,IAInDgB,SAjBO,WAkBL,IAAIe,EAAe,EAEnB/C,KAAKiB,SAAWxD,KAAKuF,KAAKhD,KAAKe,MAAQtC,GAAasE,EAEpD/C,KAAKkB,SAAWzD,KAAKuF,KAAKhD,KAAKgB,OAASvC,GAAasE,EAErD/C,KAAKmB,aAAe1D,KAAKuF,KAAKhD,KAAKiB,SAAW,GAC9CjB,KAAKoB,aAAe3D,KAAKuF,KAAKhD,KAAKkB,SAAW,IAIhDe,YA7BO,WA6BO,WAERgB,EAAajE,EAAgB,WAAhB,iBACZlB,EAAe,WAAf,iBAAmBkC,KAAK1C,UADZ,QAEf0C,KAAKF,QAGHoD,EAAgB,CAACD,EAAW,GAAKxE,EAAWwE,EAAW,GAAKxE,GAE5D0E,EAAY,EAAe,WAAf,iBAAmBnD,KAAK1C,QAAxB,QAAgC0C,KAAKF,QAEjDsD,EAAS,CACXF,EAAc,GAAKC,EAAU,GAC7BD,EAAc,GAAKC,EAAU,IAI3BE,EAAkB,CAACrD,KAAKmB,aAAcnB,KAAKoB,cAG/CpB,KAAKuB,iBAAmB,GACxB,IAAK,IAAI5H,EAAI,EAAGA,EAAIqG,KAAKiB,SAAUtH,IACjC,IAAK,IAAIkB,EAAI,EAAGA,EAAImF,KAAKkB,SAAUrG,IAAK,CAEtC,IAAIyI,EAAc,CAACD,EAAgB,GAAK1J,EAAG0J,EAAgB,GAAKxI,GAE5DsE,EAAM8D,EAAW,GAAKK,EAAY,GAClCjE,EAAM4D,EAAW,GAAKK,EAAY,GAElCrF,EAAImF,EAAO,GAAKE,EAAY,GAAK7E,EACjCN,EAAIiF,EAAO,GAAKE,EAAY,GAAK7E,EAEjCyB,EAAWf,EAAM,IAAME,EAAM,IAAMW,KAAKF,KAE5CE,KAAKuB,iBAAiBrB,IAAY,EAE9BF,KAAKsB,UAAUpB,GACjBF,KAAKsB,UAAUpB,GAAUqD,UAAUtF,EAAGE,GAAG0C,SAGzCb,KAAKsB,UAAUpB,GAAY,IAAI,EAAK,CAClCL,IAAKG,KAAKH,IACVV,MACAE,MACAS,KAAME,KAAKF,KACX7B,IACAE,IAEA4B,aAAc,SAACvD,GACb,OAAO,EAAK+E,iBAAiB/E,QASzCgH,MAvFO,WAwFLxD,KAAKH,IAAI4D,WACNzD,KAAKe,MAAQ,GACbf,KAAKgB,OAAS,EACfhB,KAAKe,MACLf,KAAKgB,SAKT3D,YAjGO,SAiGKqG,GACM,IAAZA,EAAEC,QACJ3D,KAAKqB,aAAc,IAKvBc,YAxGO,SAwGKuB,GACV,GAAK1D,KAAKqB,YAAV,CAIA,IAAIuC,EAAKF,EAAEG,UAAY/E,EAAYkB,KAAKF,MACpCgE,EAAKJ,EAAEK,UAAYjF,EAAYkB,KAAKF,MACxC,EAAahC,EAAe,WAAf,iBAAmBkC,KAAK1C,SAArC,sBAAKW,EAAL,KAAQE,EAAR,KAEA6B,KAAK1C,OAASe,EAAiBJ,EAAI2F,EAAIE,EAAK3F,GAE5C6B,KAAKwD,QACLxD,KAAKiC,gBAIPG,UAxHO,WAyHLpC,KAAKqB,aAAc,GAIrBgB,aA7HO,SA6HMqB,GAAG,WACVA,EAAEM,OAAS,EAEThE,KAAKF,KAAOE,KAAKwB,SAASxB,KAAKF,OAG/BE,KAAKF,KAAOE,KAAKyB,SAASzB,KAAKF,OAGjCE,KAAK0B,WAAa1B,KAAKF,OAG3BE,KAAK0B,SAAW1B,KAAKF,KAErBE,KAAK2B,OAAS+B,EAAEM,OAAS,EAAI,GAAM,EAE/BhE,KAAK6B,UACP7B,KAAK6B,SAASoC,OAGhBjE,KAAK6B,SAAW,eAAQ,CACtBqC,KAAMlE,KAAK4B,SACXuC,GAAInE,KAAK2B,MACTyC,SAAU,SAACC,GAET,EAAKzC,SAAWyC,EAIhB,EAAKxE,IAAIyE,OACT,EAAKd,QACL,EAAK3D,IAAI8B,MAAM0C,EAAQA,GAEvBvK,OAAOyK,KAAK,EAAKhD,kBAAkBiD,SAAQ,SAACC,GAC1C,EAAKnD,UAAUmD,GAAM5D,YAGvB,EAAKhB,IAAI6E,WAEXC,WAAY,WAEV,EAAKhD,MAAQ,EACb,EAAKC,SAAW,EAEhB,EAAKK,qB,iCE1Sf,MAAM2C,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,Q,oFCRR1H,MAAM,MAAME,IAAI,O,GAEdF,MAAM,U,uBACX,eAA8B,OAAzBA,MAAM,cAAY,Y,uBACvB,eAA8B,OAAzBA,MAAM,cAAY,Y,gDAJzB,eAKM,MALN,EAKM,CAJJ,eAAgE,OAA3DA,MAAM,SAASE,IAAI,SAAU,YAAS,8BAAE,EAAAC,aAAA,EAAAA,YAAA,sB,UAC7C,eAAqE,MAArE,EAAqE,oBAAzCC,OAAM,YAAiBA,OAAM,OACzD,EACA,G,qBAkBE,E,WACJ,cAA2D,IAA7CuH,EAA6C,EAA7CA,MAAO1F,EAAsC,EAAtCA,IAAKE,EAAiC,EAAjCA,IAAKS,EAA4B,EAA5BA,KAAM7B,EAAsB,EAAtBA,EAAGE,EAAmB,EAAnBA,EAAG4B,EAAgB,EAAhBA,aAAgB,uBAEzDC,KAAK6E,MAAQA,EAEb7E,KAAKb,IAAMA,EACXa,KAAKX,IAAMA,EAEXW,KAAKF,KAAOA,EAEZE,KAAK/B,EAAIA,EACT+B,KAAK7B,EAAIA,EAET6B,KAAKD,aAAeA,EAEpBC,KAAKC,IAAM,GAEXD,KAAKE,SAAWF,KAAKb,IAAM,IAAMa,KAAKX,IAAM,IAAMW,KAAKF,KAEvDE,KAAKG,IAAM,KAEXH,KAAK8E,QAAU,EAEf9E,KAAKI,QAAS,EAEdJ,KAAKK,MAAQ,KAEbL,KAAK+E,eAAiB,IAEtB/E,KAAKM,YACLN,KAAKO,O,gDAIP,WACEP,KAAKC,IAAMR,EAAWO,KAAKb,IAAKa,KAAKX,IAAKW,KAAKF,Q,kBAIjD,WAAO,WACDK,EAAM,IAAIK,MACdL,EAAIM,IAAMT,KAAKC,IAEfD,KAAKK,MAAQK,YAAW,WACtB,EAAKJ,YACL,EAAKC,SACJ,KAEHJ,EAAIQ,OAAS,WACXC,aAAa,EAAKP,OAElB,EAAKF,IAAM,IAAI,OAAMK,MAAM,CACzBwE,MAAO7E,EACPY,MAAOtC,EACPuC,OAAQvC,EACRqG,QAAS,EAAKA,UAEhB,EAAK1E,QAAS,EACd,EAAKS,Y,oBAKT,WAAyB,IAAlBoE,EAAkB,wDAClBjF,KAAKI,QAAWJ,KAAKD,aAAaC,KAAKE,YAI5CF,KAAK6E,MAAMK,IAAIlF,KAAKG,KAEpBH,KAAKG,IAAIlC,EAAE+B,KAAK/B,GAAGE,EAAE6B,KAAK7B,GAEtB8G,GAA6B,IAAjBjF,KAAK8E,UACnB9E,KAAK8E,QAAU,EACf9E,KAAKG,IAAI2E,QAAQ,IAEnB9E,KAAKmF,Y,oBAIP,WAAS,WACP,KAAInF,KAAK8E,SAAW,GAApB,CAGA,IAAIM,EAAOpF,KAAK8E,QACZO,EAAO,IAAI,OAAMC,WAAU,SAACC,GAC9B,IAAIT,EAAWS,EAAMC,KAAO,EAAKT,eAAkB,EAAIK,EACvD,EAAKN,QAAUA,EACf,EAAK3E,IAAI2E,QAAQA,GACbA,GAAW,GACbO,EAAKpB,SAENjE,KAAK6E,OACRQ,EAAKI,W,yBAIP,SAAYZ,GAEV,OADA7E,KAAK6E,MAAQA,EACN7E,O,uBAIT,SAAU/B,EAAGE,GAGX,OAFA6B,KAAK/B,EAAIA,EACT+B,KAAK7B,EAAIA,EACF6B,S,KAII,GACbvE,KAAM,MACNpC,KAFa,WAGX,MAAO,CAEL0H,MAAO,EACPC,OAAQ,EAERC,SAAU,EACVC,SAAU,EACVC,aAAc,EACdC,aAAc,EAEdC,aAAa,EAEbC,UAAW,GAEXC,iBAAkB,GAElBjE,OAAQ,CAAC,WAAY,WAErBwC,KAAM,GAEN0B,QAAS,EACTC,QAAS,GAETC,SAAU,EACVC,MAAO,EACPC,SAAU,EACVC,SAAU,KAEV6D,MAAO,KACPC,OAAQ,KACRC,OAAQ,KACRC,WAAW,IAGf/D,QArCa,WAsCX9B,KAAK8F,OACL9F,KAAKgC,WACLhC,KAAKiC,cACLlF,OAAOmF,iBAAiB,YAAalC,KAAKmC,aAC1CpF,OAAOmF,iBAAiB,UAAWlC,KAAKoC,WACxCrF,OAAOmF,iBAAiB,QAASlC,KAAKqC,eAExCC,cA7Ca,WA8CXvF,OAAOwF,oBAAoB,YAAavC,KAAKmC,aAC7CpF,OAAOwF,oBAAoB,UAAWvC,KAAKoC,WAC3CrF,OAAOwF,oBAAoB,QAASvC,KAAKqC,eAE3CG,QAAS,CAEPsD,KAFO,WAIL,MAAwB9F,KAAKyC,MAAMsD,OAAOpD,wBAApC5B,EAAN,EAAMA,MAAOC,EAAb,EAAaA,OACbhB,KAAKe,MAAQA,EACbf,KAAKgB,OAASA,EAGdhB,KAAK0F,MAAQ,IAAI,OAAMM,MAAM,CAC3BC,UAAWjG,KAAKyC,MAAMsD,OACtBhF,QACAC,WAIFhB,KAAK2F,OAAS,IAAI,OAAMO,MACxBlG,KAAK2F,OAAO1H,EAAE+B,KAAKe,MAAQ,GAAG5C,EAAE6B,KAAKgB,OAAS,GAC9ChB,KAAK0F,MAAMR,IAAIlF,KAAK2F,QAEpB3F,KAAK4F,OAAS,IAAI,OAAMM,MACxBlG,KAAK4F,OAAO3H,EAAE+B,KAAKe,MAAQ,GAAG5C,EAAE6B,KAAKgB,OAAS,GAC9ChB,KAAK0F,MAAMR,IAAIlF,KAAK4F,SAItB5D,SA1BO,WA2BL,IAAIe,EAAe,EAEnB/C,KAAKiB,SAAWxD,KAAKuF,KAAKhD,KAAKe,MAAQtC,GAAasE,EAEpD/C,KAAKkB,SAAWzD,KAAKuF,KAAKhD,KAAKgB,OAASvC,GAAasE,EAErD/C,KAAKmB,aAAe1D,KAAKuF,KAAKhD,KAAKiB,SAAW,GAC9CjB,KAAKoB,aAAe3D,KAAKuF,KAAKhD,KAAKkB,SAAW,IAIhDe,YAtCO,WAsCuB,WAAlBgD,EAAkB,wDAExBhC,EAAajE,EAAgB,WAAhB,iBACZlB,EAAe,WAAf,iBAAmBkC,KAAK1C,UADZ,QAEf0C,KAAKF,QAGHoD,EAAgB,CAACD,EAAW,GAAKxE,EAAWwE,EAAW,GAAKxE,GAE5D0E,EAAY,EAAe,WAAf,iBAAmBnD,KAAK1C,QAAxB,QAAgC0C,KAAKF,QAEjDsD,EAAS,CACXF,EAAc,GAAKC,EAAU,GAC7BD,EAAc,GAAKC,EAAU,IAI3BE,EAAkB,CAACrD,KAAKmB,aAAcnB,KAAKoB,cAG/CpB,KAAKuB,iBAAmB,GACxB,IAAK,IAAI5H,EAAI,EAAGA,EAAIqG,KAAKiB,SAAUtH,IACjC,IAAK,IAAIkB,EAAI,EAAGA,EAAImF,KAAKkB,SAAUrG,IAAK,CAEtC,IAAIyI,EAAc,CAACD,EAAgB,GAAK1J,EAAG0J,EAAgB,GAAKxI,GAE5DsE,EAAM8D,EAAW,GAAKK,EAAY,GAClCjE,EAAM4D,EAAW,GAAKK,EAAY,GAElCrF,EAAImF,EAAO,GAAKE,EAAY,GAAK7E,EACjCN,EAAIiF,EAAO,GAAKE,EAAY,GAAK7E,EAEjCyB,EAAWf,EAAM,IAAME,EAAM,IAAMW,KAAKF,KAE5CE,KAAKuB,iBAAiBrB,IAAY,EAElC,IAAI2E,EAAQ7E,KAAK6F,UAAY7F,KAAK2F,OAAS3F,KAAK4F,OAC5C5F,KAAKsB,UAAUpB,GACjBF,KAAKsB,UAAUpB,GACZiG,YAAYtB,GACZtB,UAAUtF,EAAGE,GACb0C,OAAOoE,GAGVjF,KAAKsB,UAAUpB,GAAY,IAAI,EAAK,CAClC2E,QACA1F,MACAE,MACAS,KAAME,KAAKF,KACX7B,IACAE,IAEA4B,aAAc,SAACvD,GACb,OAAO,EAAK+E,iBAAiB/E,QASzC4J,WApGO,WAqGLpG,KAAK2F,OAAOU,iBACZrG,KAAK4F,OAAOS,kBAIdC,WA1GO,WA4GL,IAAIC,EAAevG,KAAK6F,UAAY7F,KAAK2F,OAAS3F,KAAK4F,OACnDY,EAAYxG,KAAK6F,UAAY7F,KAAK4F,OAAS5F,KAAK2F,OACpDa,EAAU7E,MAAM,CACd1D,EAAG,EACHE,EAAG,IAELqI,EAAUH,iBACVE,EAAaE,OAAO,GACpBD,EAAUC,OAAO,IAInBpJ,YAxHO,SAwHKqG,GACM,IAAZA,EAAEC,QACJ3D,KAAKqB,aAAc,IAKvBc,YA/HO,SA+HKuB,GACV,GAAK1D,KAAKqB,YAAV,CAIA,IAAIuC,EAAKF,EAAEG,UAAY/E,EAAYkB,KAAKF,MACpCgE,EAAKJ,EAAEK,UAAYjF,EAAYkB,KAAKF,MACxC,EAAahC,EAAe,WAAf,iBAAmBkC,KAAK1C,SAArC,sBAAKW,EAAL,KAAQE,EAAR,KAEA6B,KAAK1C,OAASe,EAAiBJ,EAAI2F,EAAIE,EAAK3F,GAE5C6B,KAAKoG,aACLpG,KAAKiC,gBAIPG,UA/IO,WAgJLpC,KAAKqB,aAAc,GAIrBgB,aApJO,SAoJMqB,GAAG,WACVA,EAAEM,OAAS,EAEThE,KAAKF,KAAOE,KAAKwB,SAASxB,KAAKF,OAG/BE,KAAKF,KAAOE,KAAKyB,SAASzB,KAAKF,OAGjCE,KAAK0B,WAAa1B,KAAKF,OAG3BE,KAAK0B,SAAW1B,KAAKF,KAErBE,KAAK2B,OAAS+B,EAAEM,OAAS,EAAI,GAAM,EAE/BhE,KAAK6B,UACP7B,KAAK6B,SAASoC,OAGhBjE,KAAKsG,aAELtG,KAAK6B,SAAW,eAAQ,CACtBqC,KAAMlE,KAAK4B,SACXuC,GAAInE,KAAK2B,MACTyC,SAAU,SAACC,GAET,EAAKzC,SAAWyC,EAChB,IAAIQ,EAAQ,EAAKgB,UAAY,EAAKF,OAAS,EAAKC,OAChDf,EAAMlD,MAAM,CACV1D,EAAGoG,EACHlG,EAAGkG,KAGPM,WAAY,WAEV,EAAKkB,WAAa,EAAKA,UAEvB,EAAKlE,MAAQ,EACb,EAAKC,SAAW,EAEhB,EAAKK,aAAY,U,UC7W3B,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,QLOA,GACbyE,WAAY,CACVC,MACAC,OAEFvN,KALa,WAMX,MAAO,CACL8D,KAAM,S,UMhBZ,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS0D,GAAQ,CAAC,YAAY,qBAE1E,QCNfgG,eAAUC,GAAKC,MAAM,S,2DCHrB,W,kCCAA,W","file":"js/app.ed95603e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Old.vue?vue&type=style&index=0&id=28d4dc86&scoped=true&lang=css\"","<template>\r\n  <div class=\"app\">\r\n    <div class=\"mapContainer\">\r\n      <component :is=\"comp\"></component>\r\n    </div>\r\n    <div class=\"btnGroup\">\r\n        <div class=\"btn\" :class=\"{active: this.comp === 'New'}\" @click=\"this.comp = 'New'\">优化版</div>\r\n        <div class=\"btn\" :class=\"{active: this.comp === 'Old'}\" @click=\"this.comp = 'Old'\">原始版</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Old from './Old'\r\nimport New from './New'\r\n\r\nexport default {\r\n  components: {\r\n    New,\r\n    Old,\r\n  },\r\n  data() {\r\n    return {\r\n      comp: 'New',\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btnGroup {\r\n    position: fixed;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    bottom: 50px;\r\n    display: flex;\r\n    height: 30px;\r\n    background-color: #fff;\r\n    border: 1px solid #b3b3b3;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    line-height: 30px;\r\n    cursor: pointer;\r\n}\r\n\r\n.btn {\r\n    padding: 0 16px;\r\n}\r\n\r\n.btn.active {\r\n    background-color: #e0e0e0;\r\n}\r\n</style>","<template>\r\n  <div class=\"map\" ref=\"map\">\r\n    <canvas ref=\"canvas\" @mousedown=\"onMousedown\"></canvas>\r\n    <div class=\"center\">{{ this.center[0] + ',' + this.center[1] }}</div>\r\n    <div class=\"line lineX\"></div>\r\n    <div class=\"line lineY\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { animate } from 'popmotion'\r\nimport {\r\n  getTileUrl,\r\n  TILE_SIZE,\r\n  getTileRowAndCol,\r\n  lngLat2Mercator,\r\n  getPxFromLngLat,\r\n  resolutions,\r\n  mercatorToLngLat,\r\n} from './utils'\r\n\r\n// 瓦片类\r\nclass Tile {\r\n  constructor({ ctx, row, col, zoom, x, y, shouldRender }) {\r\n    // 画布上下文\r\n    this.ctx = ctx\r\n    // 瓦片行列号\r\n    this.row = row\r\n    this.col = col\r\n    // 瓦片层级\r\n    this.zoom = zoom\r\n    // 显示位置\r\n    this.x = x\r\n    this.y = y\r\n    // 判断瓦片是否应该渲染\r\n    this.shouldRender = shouldRender\r\n    // 瓦片url\r\n    this.url = ''\r\n    // 缓存key\r\n    this.cacheKey = this.row + '_' + this.col + '_' + this.zoom\r\n    // 图片\r\n    this.img = null\r\n    // 图片是否加载完成\r\n    this.loaded = false\r\n    // 图片加载超时定时器\r\n    this.timer = null\r\n\r\n    this.createUrl()\r\n    this.load()\r\n  }\r\n\r\n  // 生成url\r\n  createUrl() {\r\n    this.url = getTileUrl(this.row, this.col, this.zoom)\r\n  }\r\n\r\n  // 加载图片\r\n  load() {\r\n    this.img = new Image()\r\n    this.img.src = this.url\r\n    // 加载超时，重新加载\r\n    this.timer = setTimeout(() => {\r\n      this.createUrl()\r\n      this.load()\r\n    }, 1000)\r\n    this.img.onload = () => {\r\n      clearTimeout(this.timer)\r\n      this.loaded = true\r\n      this.render()\r\n    }\r\n  }\r\n\r\n  // 将图片渲染到canvas上\r\n  render() {\r\n    if (!this.loaded || !this.shouldRender(this.cacheKey)) {\r\n      return\r\n    }\r\n    this.ctx.drawImage(this.img, this.x, this.y)\r\n  }\r\n\r\n  // 更新位置\r\n  updatePos(x, y) {\r\n    this.x = x\r\n    this.y = y\r\n    return this\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'App',\r\n  data() {\r\n    return {\r\n      // 画布宽高\r\n      width: 0,\r\n      height: 0,\r\n      // 画布需要的瓦片数量\r\n      rowCount: 0,\r\n      colCount: 0,\r\n      halfRowCount: 0,\r\n      halfColCount: 0,\r\n      // 鼠标按下标志\r\n      isMousedown: false,\r\n      // 缓存瓦片实例\r\n      tileCache: {},\r\n      // 记录当前画布上需要的瓦片\r\n      currentTileCache: {},\r\n      // 初始中心经纬度\r\n      center: [120.148732, 30.231006], // 雷锋塔\r\n      // 初始缩放层级\r\n      zoom: 17,\r\n\r\n      // 缩放层级范围\r\n      minZoom: 3,\r\n      maxZoom: 18,\r\n      // canvas绘图上下文\r\n      ctx: null,\r\n      // 缩放相关\r\n      lastZoom: 0,\r\n      scale: 1,\r\n      scaleTmp: 1,\r\n      playback: null,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initCanvas()\r\n    this.getCount()\r\n    this.renderTiles()\r\n    window.addEventListener('mousemove', this.onMousemove)\r\n    window.addEventListener('mouseup', this.onMouseup)\r\n    window.addEventListener('wheel', this.onMousewheel)\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('mousemove', this.onMousemove)\r\n    window.removeEventListener('mouseup', this.onMouseup)\r\n    window.removeEventListener('wheel', this.onMousewheel)\r\n  },\r\n  methods: {\r\n    // 初始化画布\r\n    initCanvas() {\r\n      // 获取容器宽高\r\n      let { width, height } = this.$refs.map.getBoundingClientRect()\r\n      this.width = width\r\n      this.height = height\r\n      // 设置画布宽高\r\n      let canvas = this.$refs.canvas\r\n      canvas.width = this.width\r\n      canvas.height = this.height\r\n      this.ctx = canvas.getContext('2d')\r\n      // 移动画布原点\r\n      this.ctx.translate(this.width / 2, this.height / 2)\r\n    },\r\n\r\n    // 计算需要的瓦片数量\r\n    getCount() {\r\n      let paddingCount = 2\r\n      // 水平方向需要的瓦片数量\r\n      this.rowCount = Math.ceil(this.width / TILE_SIZE) + paddingCount\r\n      // 垂直方向需要的瓦片数量\r\n      this.colCount = Math.ceil(this.height / TILE_SIZE) + paddingCount\r\n      // 瓦片数量的一半\r\n      this.halfRowCount = Math.ceil(this.rowCount / 2)\r\n      this.halfColCount = Math.ceil(this.colCount / 2)\r\n    },\r\n\r\n    // 计算显示范围内的瓦片行列号\r\n    renderTiles() {\r\n      // 中心点对应的瓦片\r\n      let centerTile = getTileRowAndCol(\r\n        ...lngLat2Mercator(...this.center),\r\n        this.zoom\r\n      )\r\n      // 中心瓦片左上角对应的像素坐标\r\n      let centerTilePos = [centerTile[0] * TILE_SIZE, centerTile[1] * TILE_SIZE]\r\n      // 中心点对应的像素坐标\r\n      let centerPos = getPxFromLngLat(...this.center, this.zoom)\r\n      // 中心瓦片左上角距中心像素坐标的差值\r\n      let offset = [\r\n        centerTilePos[0] - centerPos[0],\r\n        centerTilePos[1] - centerPos[1],\r\n      ]\r\n\r\n      // 中心瓦片的索引\r\n      let centerTileIndex = [this.halfRowCount, this.halfColCount]\r\n\r\n      // 渲染画布内所有瓦片\r\n      this.currentTileCache = {} // 清空缓存对象\r\n      for (let i = 0; i < this.rowCount; i++) {\r\n        for (let j = 0; j < this.colCount; j++) {\r\n          // 当前瓦片和中心瓦片的索引差值\r\n          let offsetIndex = [centerTileIndex[0] - i, centerTileIndex[1] - j]\r\n          // 当前瓦片的行列号\r\n          let row = centerTile[0] + offsetIndex[0]\r\n          let col = centerTile[1] + offsetIndex[1]\r\n          // 当前瓦片的显示位置\r\n          let x = offset[0] + offsetIndex[0] * TILE_SIZE\r\n          let y = offset[1] + offsetIndex[1] * TILE_SIZE\r\n          // 缓存key\r\n          let cacheKey = row + '_' + col + '_' + this.zoom\r\n          // 记录当前需要的瓦片\r\n          this.currentTileCache[cacheKey] = true\r\n          // 该瓦片已加载过\r\n          if (this.tileCache[cacheKey]) {\r\n            this.tileCache[cacheKey].updatePos(x, y).render()\r\n          } else {\r\n            // 未加载过\r\n            this.tileCache[cacheKey] = new Tile({\r\n              ctx: this.ctx,\r\n              row,\r\n              col,\r\n              zoom: this.zoom,\r\n              x,\r\n              y,\r\n              // 判断瓦片是否在当前画布缓存对象上，是的话则代表需要渲染\r\n              shouldRender: (key) => {\r\n                return this.currentTileCache[key]\r\n              },\r\n            })\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    // 清除画布\r\n    clear() {\r\n      this.ctx.clearRect(\r\n        -this.width / 2,\r\n        -this.height / 2,\r\n        this.width,\r\n        this.height\r\n      )\r\n    },\r\n\r\n    // 鼠标按下\r\n    onMousedown(e) {\r\n      if (e.which === 1) {\r\n        this.isMousedown = true\r\n      }\r\n    },\r\n\r\n    // 鼠标移动\r\n    onMousemove(e) {\r\n      if (!this.isMousedown) {\r\n        return\r\n      }\r\n      // 计算本次拖动的距离对应的经纬度数据\r\n      let mx = e.movementX * resolutions[this.zoom]\r\n      let my = e.movementY * resolutions[this.zoom]\r\n      let [x, y] = lngLat2Mercator(...this.center)\r\n      // 更新拖动后的中心点经纬度\r\n      this.center = mercatorToLngLat(x - mx, my + y)\r\n      // 清除画布重新渲染瓦片\r\n      this.clear()\r\n      this.renderTiles()\r\n    },\r\n\r\n    // 鼠标松开\r\n    onMouseup() {\r\n      this.isMousedown = false\r\n    },\r\n\r\n    // 鼠标滚动\r\n    onMousewheel(e) {\r\n      if (e.deltaY > 0) {\r\n        // 层级变小\r\n        if (this.zoom > this.minZoom) this.zoom--\r\n      } else {\r\n        // 层级变大\r\n        if (this.zoom < this.maxZoom) this.zoom++\r\n      }\r\n      // 层级未发生改变\r\n      if (this.lastZoom === this.zoom) {\r\n        return\r\n      }\r\n      this.lastZoom = this.zoom\r\n      // 更新缩放比例，也就是目标缩放值\r\n      this.scale *= e.deltaY > 0 ? 0.5 : 2\r\n      // 停止上一次动画\r\n      if (this.playback) {\r\n        this.playback.stop()\r\n      }\r\n      // 开启动画\r\n      this.playback = animate({\r\n        from: this.scaleTmp, // 当前缩放值\r\n        to: this.scale, // 目标缩放值\r\n        onUpdate: (latest) => {\r\n          // 实时更新当前缩放值\r\n          this.scaleTmp = latest\r\n          // 保存画布之前状态，原因有二：\r\n          // 1.scale方法是会在之前的状态上叠加的，比如初始是1，第一次执行scale(2,2)，第二次执行scale(3,3)，最终缩放值不是3，而是6，所以每次缩放完就恢复状态，那么就相当于每次都是从初始值1开始缩放，效果就对了\r\n          // 2.保证缩放效果只对重新渲染已有瓦片生效，不会对最后的renderTiles()造成影响\r\n          this.ctx.save()\r\n          this.clear()\r\n          this.ctx.scale(latest, latest)\r\n          // 刷新当前画布上的瓦片\r\n          Object.keys(this.currentTileCache).forEach((tile) => {\r\n            this.tileCache[tile].render()\r\n          })\r\n          // 恢复到画布之前状态\r\n          this.ctx.restore()\r\n        },\r\n        onComplete: () => {\r\n          // 动画完成后将缩放值重置为1\r\n          this.scale = 1\r\n          this.scaleTmp = 1\r\n          // 根据最终缩放值重新计算需要的瓦片并渲染\r\n          this.renderTiles()\r\n        },\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.map {\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n\r\n.line {\r\n  position: absolute;\r\n  background-color: #000;\r\n}\r\n\r\n.lineX {\r\n  left: 0;\r\n  top: 50%;\r\n  width: 100%;\r\n  height: 1px;\r\n}\r\n\r\n.lineY {\r\n  left: 50%;\r\n  top: 0;\r\n  height: 100%;\r\n  width: 1px;\r\n}\r\n\r\n.center {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n</style>","// 角度转弧度\r\nconst angleToRad = (angle) => {\r\n    return angle * (Math.PI / 180)\r\n}\r\n\r\n// 弧度转角度\r\nconst radToAngle = (rad) => {\r\n    return rad * (180 / Math.PI)\r\n}\r\n\r\n// 地球半径\r\nconst EARTH_RAD = 6378137\r\n\r\n// 4326转3857\r\nexport const lngLat2Mercator = (lng, lat) => {\r\n    // 经度先转弧度，然后因为 弧度 = 弧长 / 半径 ，得到弧长为 弧长 = 弧度 * 半径\r\n    let x = angleToRad(lng) * EARTH_RAD\r\n    // 纬度先转弧度\r\n    let rad = angleToRad(lat)\r\n    // 下面我就看不懂了\r\n    let sin = Math.sin(rad)\r\n    let y = (EARTH_RAD / 2) * Math.log((1 + sin) / (1 - sin))\r\n    return [x, y]\r\n}\r\n\r\n// 3857转4326\r\nexport const mercatorToLngLat = (x, y) => {\r\n    let lng = radToAngle(x) / EARTH_RAD\r\n    let lat = radToAngle(2 * Math.atan(Math.exp(y / EARTH_RAD)) - Math.PI / 2)\r\n    return [lng, lat]\r\n}\r\n\r\n// 地球周长\r\nconst EARTH_PERIMETER = 2 * Math.PI * EARTH_RAD\r\n// 瓦片像素\r\nexport const TILE_SIZE = 256\r\n\r\n// 获取某一层级下的分辨率\r\nexport const getResolution = (n) => {\r\n    const tileNums = Math.pow(2, n)\r\n    const tileTotalPx = tileNums * TILE_SIZE\r\n    return EARTH_PERIMETER / tileTotalPx\r\n}\r\n\r\n// 分辨率列表\r\nexport const resolutions = []\r\nfor (let i = 0; i <= 18; i++) {\r\n    resolutions.push(getResolution(i))\r\n}\r\n\r\n// 转换3857坐标的原点\r\nexport const transformXY = (x, y) => {\r\n    x += EARTH_PERIMETER / 2\r\n    y = EARTH_PERIMETER / 2 - y\r\n    return [x, y]\r\n}\r\n\r\n// 根据3857坐标及缩放层级计算瓦片行列号\r\nexport const getTileRowAndCol = (x, y, z) => {\r\n    let t = transformXY(x, y)\r\n    x = t[0]\r\n    y = t[1]\r\n    let resolution = resolutions[z]\r\n    let row = Math.floor(x / resolution / TILE_SIZE)\r\n    let col = Math.floor(y / resolution / TILE_SIZE)\r\n    return [row, col]\r\n}\r\n\r\n// 计算4326经纬度对应的像素坐标\r\nexport const getPxFromLngLat = (lng, lat, z) => {\r\n    let [_x, _y] = transformXY(...lngLat2Mercator(lng, lat))\r\n    let resolution = resolutions[z]\r\n    let x = Math.floor(_x / resolution)\r\n    let y = Math.floor(_y / resolution)\r\n    return [x, y]\r\n}\r\n\r\n// 拼接瓦片地址\r\nexport const getTileUrl = (x, y, z) => {\r\n    let domainIndexList = [1, 2, 3, 4]\r\n    let domainIndex =\r\n        domainIndexList[Math.floor(Math.random() * domainIndexList.length)]\r\n    return `https://webrd0${domainIndex}.is.autonavi.com/appmaptile?x=${x}&y=${y}&z=${z}&lang=zh_cn&size=1&scale=1&style=8`\r\n}","import { render } from \"./Old.vue?vue&type=template&id=28d4dc86&scoped=true\"\nimport script from \"./Old.vue?vue&type=script&lang=js\"\nexport * from \"./Old.vue?vue&type=script&lang=js\"\n\nimport \"./Old.vue?vue&type=style&index=0&id=28d4dc86&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\works\\\\学习\\\\web_map_demo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-28d4dc86\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"map\" ref=\"map\">\r\n    <div class=\"mapBox\" ref=\"mapBox\" @mousedown=\"onMousedown\"></div>\r\n    <div class=\"center\">{{ this.center[0] + ',' + this.center[1] }}</div>\r\n    <div class=\"line lineX\"></div>\r\n    <div class=\"line lineY\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { animate } from 'popmotion'\r\nimport Konva from 'konva'\r\nimport {\r\n  getTileUrl,\r\n  TILE_SIZE,\r\n  getTileRowAndCol,\r\n  lngLat2Mercator,\r\n  getPxFromLngLat,\r\n  resolutions,\r\n  mercatorToLngLat,\r\n} from './utils'\r\n\r\n// 瓦片类\r\nclass Tile {\r\n  constructor({ layer, row, col, zoom, x, y, shouldRender }) {\r\n    // 瓦片显示图层\r\n    this.layer = layer\r\n    // 瓦片行列号\r\n    this.row = row\r\n    this.col = col\r\n    // 瓦片层级\r\n    this.zoom = zoom\r\n    // 显示位置\r\n    this.x = x\r\n    this.y = y\r\n    // 判断瓦片是否应该渲染\r\n    this.shouldRender = shouldRender\r\n    // 瓦片url\r\n    this.url = ''\r\n    // 缓存key\r\n    this.cacheKey = this.row + '_' + this.col + '_' + this.zoom\r\n    // 瓦片图片\r\n    this.img = null\r\n    // 瓦片透明度\r\n    this.opacity = 0\r\n    // 图片是否加载完成\r\n    this.loaded = false\r\n    // 图片加载超时定时器\r\n    this.timer = null\r\n    // 瓦片渐现过渡时间\r\n    this.fadeInDuration = 500\r\n\r\n    this.createUrl()\r\n    this.load()\r\n  }\r\n\r\n  // 生成url\r\n  createUrl() {\r\n    this.url = getTileUrl(this.row, this.col, this.zoom)\r\n  }\r\n\r\n  // 加载图片\r\n  load() {\r\n    let img = new Image()\r\n    img.src = this.url\r\n    // 加载超时，重新加载\r\n    this.timer = setTimeout(() => {\r\n      this.createUrl()\r\n      this.load()\r\n    }, 1000)\r\n    // 加载完成\r\n    img.onload = () => {\r\n      clearTimeout(this.timer)\r\n      // 创建图片元素\r\n      this.img = new Konva.Image({\r\n        image: img,\r\n        width: TILE_SIZE,\r\n        height: TILE_SIZE,\r\n        opacity: this.opacity,\r\n      })\r\n      this.loaded = true\r\n      this.render()\r\n    }\r\n  }\r\n\r\n  // 渲染\r\n  render(isFadeIn = false) {\r\n    if (!this.loaded || !this.shouldRender(this.cacheKey)) {\r\n      return\r\n    }\r\n    // 添加到图层\r\n    this.layer.add(this.img)\r\n    // 设置显示位置\r\n    this.img.x(this.x).y(this.y)\r\n    // 需要渐现\r\n    if (isFadeIn && this.opacity !== 0) {\r\n      this.opacity = 0\r\n      this.img.opacity(0)\r\n    }\r\n    this.fadeIn()\r\n  }\r\n\r\n  // 渐现\r\n  fadeIn() {\r\n    if (this.opacity >= 1) {\r\n      return\r\n    }\r\n    let base = this.opacity\r\n    let anim = new Konva.Animation((frame) => {\r\n      let opacity = (frame.time / this.fadeInDuration) * 1 + base\r\n      this.opacity = opacity\r\n      this.img.opacity(opacity)\r\n      if (opacity >= 1) {\r\n        anim.stop()\r\n      }\r\n    }, this.layer)\r\n    anim.start()\r\n  }\r\n\r\n  // 更新要添加到的图层\r\n  updateLayer(layer) {\r\n    this.layer = layer\r\n    return this\r\n  }\r\n\r\n  // 更新位置\r\n  updatePos(x, y) {\r\n    this.x = x\r\n    this.y = y\r\n    return this\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'App',\r\n  data() {\r\n    return {\r\n      // 画布宽高\r\n      width: 0,\r\n      height: 0,\r\n      // 画布需要的瓦片数量\r\n      rowCount: 0,\r\n      colCount: 0,\r\n      halfRowCount: 0,\r\n      halfColCount: 0,\r\n      // 鼠标按下标志\r\n      isMousedown: false,\r\n      // 缓存瓦片实例\r\n      tileCache: {},\r\n      // 记录当前画布上需要的瓦片\r\n      currentTileCache: {},\r\n      // 初始中心经纬度\r\n      center: [120.148732, 30.231006], // 雷锋塔\r\n      // 初始缩放层级\r\n      zoom: 17,\r\n      // 缩放层级范围\r\n      minZoom: 3,\r\n      maxZoom: 18,\r\n      // 缩放相关\r\n      lastZoom: 0,\r\n      scale: 1,\r\n      scaleTmp: 1,\r\n      playback: null,\r\n      // 图层相关\r\n      stage: null,\r\n      layer1: null,\r\n      layer2: null,\r\n      useLayer1: true,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n    this.getCount()\r\n    this.renderTiles()\r\n    window.addEventListener('mousemove', this.onMousemove)\r\n    window.addEventListener('mouseup', this.onMouseup)\r\n    window.addEventListener('wheel', this.onMousewheel)\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('mousemove', this.onMousemove)\r\n    window.removeEventListener('mouseup', this.onMouseup)\r\n    window.removeEventListener('wheel', this.onMousewheel)\r\n  },\r\n  methods: {\r\n    // 初始化\r\n    init() {\r\n      // 获取容器宽高\r\n      let { width, height } = this.$refs.mapBox.getBoundingClientRect()\r\n      this.width = width\r\n      this.height = height\r\n\r\n      // 创建舞台\r\n      this.stage = new Konva.Stage({\r\n        container: this.$refs.mapBox,\r\n        width,\r\n        height,\r\n      })\r\n\r\n      // 创建两个图层\r\n      this.layer1 = new Konva.Layer()\r\n      this.layer1.x(this.width / 2).y(this.height / 2)\r\n      this.stage.add(this.layer1)\r\n\r\n      this.layer2 = new Konva.Layer()\r\n      this.layer2.x(this.width / 2).y(this.height / 2)\r\n      this.stage.add(this.layer2)\r\n    },\r\n\r\n    // 计算需要的瓦片数量\r\n    getCount() {\r\n      let paddingCount = 2\r\n      // 水平方向需要的瓦片数量\r\n      this.rowCount = Math.ceil(this.width / TILE_SIZE) + paddingCount\r\n      // 垂直方向需要的瓦片数量\r\n      this.colCount = Math.ceil(this.height / TILE_SIZE) + paddingCount\r\n      // 瓦片数量的一半\r\n      this.halfRowCount = Math.ceil(this.rowCount / 2)\r\n      this.halfColCount = Math.ceil(this.colCount / 2)\r\n    },\r\n\r\n    // 计算显示范围内的瓦片行列号\r\n    renderTiles(isFadeIn = false) {\r\n      // 中心点对应的瓦片\r\n      let centerTile = getTileRowAndCol(\r\n        ...lngLat2Mercator(...this.center),\r\n        this.zoom\r\n      )\r\n      // 中心瓦片左上角对应的像素坐标\r\n      let centerTilePos = [centerTile[0] * TILE_SIZE, centerTile[1] * TILE_SIZE]\r\n      // 中心点对应的像素坐标\r\n      let centerPos = getPxFromLngLat(...this.center, this.zoom)\r\n      // 中心瓦片左上角距中心像素坐标的差值\r\n      let offset = [\r\n        centerTilePos[0] - centerPos[0],\r\n        centerTilePos[1] - centerPos[1],\r\n      ]\r\n\r\n      // 中心瓦片的索引\r\n      let centerTileIndex = [this.halfRowCount, this.halfColCount]\r\n\r\n      // 渲染画布内所有瓦片\r\n      this.currentTileCache = {} // 清空缓存对象\r\n      for (let i = 0; i < this.rowCount; i++) {\r\n        for (let j = 0; j < this.colCount; j++) {\r\n          // 当前瓦片和中心瓦片的索引差值\r\n          let offsetIndex = [centerTileIndex[0] - i, centerTileIndex[1] - j]\r\n          // 当前瓦片的行列号\r\n          let row = centerTile[0] + offsetIndex[0]\r\n          let col = centerTile[1] + offsetIndex[1]\r\n          // 当前瓦片的显示位置\r\n          let x = offset[0] + offsetIndex[0] * TILE_SIZE\r\n          let y = offset[1] + offsetIndex[1] * TILE_SIZE\r\n          // 缓存key\r\n          let cacheKey = row + '_' + col + '_' + this.zoom\r\n          // 记录当前需要的瓦片\r\n          this.currentTileCache[cacheKey] = true\r\n          // 该瓦片已加载过\r\n          let layer = this.useLayer1 ? this.layer1 : this.layer2\r\n          if (this.tileCache[cacheKey]) {\r\n            this.tileCache[cacheKey]\r\n              .updateLayer(layer)\r\n              .updatePos(x, y)\r\n              .render(isFadeIn)\r\n          } else {\r\n            // 未加载过\r\n            this.tileCache[cacheKey] = new Tile({\r\n              layer,\r\n              row,\r\n              col,\r\n              zoom: this.zoom,\r\n              x,\r\n              y,\r\n              // 判断瓦片是否在当前画布缓存对象上，是的话则代表需要渲染\r\n              shouldRender: (key) => {\r\n                return this.currentTileCache[key]\r\n              },\r\n            })\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    // 清空图层\r\n    clearLayer() {\r\n      this.layer1.removeChildren()\r\n      this.layer2.removeChildren()\r\n    },\r\n\r\n    // 重置图层\r\n    resetLayer() {\r\n      // 如果当前元素显示在图层1，那么即将切换为图层2，所以将图层二的缩放复位、清空旧的元素、置顶显示，反之亦然\r\n      let currentLayer = this.useLayer1 ? this.layer1 : this.layer2\r\n      let willLayer = this.useLayer1 ? this.layer2 : this.layer1\r\n      willLayer.scale({\r\n        x: 1,\r\n        y: 1,\r\n      })\r\n      willLayer.removeChildren()\r\n      currentLayer.zIndex(0)\r\n      willLayer.zIndex(1)\r\n    },\r\n\r\n    // 鼠标按下\r\n    onMousedown(e) {\r\n      if (e.which === 1) {\r\n        this.isMousedown = true\r\n      }\r\n    },\r\n\r\n    // 鼠标移动\r\n    onMousemove(e) {\r\n      if (!this.isMousedown) {\r\n        return\r\n      }\r\n      // 计算本次拖动的距离对应的经纬度数据\r\n      let mx = e.movementX * resolutions[this.zoom]\r\n      let my = e.movementY * resolutions[this.zoom]\r\n      let [x, y] = lngLat2Mercator(...this.center)\r\n      // 更新拖动后的中心点经纬度\r\n      this.center = mercatorToLngLat(x - mx, my + y)\r\n      // 清除画布重新渲染瓦片\r\n      this.clearLayer()\r\n      this.renderTiles()\r\n    },\r\n\r\n    // 鼠标松开\r\n    onMouseup() {\r\n      this.isMousedown = false\r\n    },\r\n\r\n    // 鼠标滚动\r\n    onMousewheel(e) {\r\n      if (e.deltaY > 0) {\r\n        // 层级变小\r\n        if (this.zoom > this.minZoom) this.zoom--\r\n      } else {\r\n        // 层级变大\r\n        if (this.zoom < this.maxZoom) this.zoom++\r\n      }\r\n      // 层级未发生改变\r\n      if (this.lastZoom === this.zoom) {\r\n        return\r\n      }\r\n      this.lastZoom = this.zoom\r\n      // 更新缩放比例，也就是目标缩放值\r\n      this.scale *= e.deltaY > 0 ? 0.5 : 2\r\n      // 停止上一次动画\r\n      if (this.playback) {\r\n        this.playback.stop()\r\n      }\r\n      // 图层重置\r\n      this.resetLayer()\r\n      // 开启动画\r\n      this.playback = animate({\r\n        from: this.scaleTmp, // 当前缩放值\r\n        to: this.scale, // 目标缩放值\r\n        onUpdate: (latest) => {\r\n          // 实时更新当前缩放值\r\n          this.scaleTmp = latest\r\n          let layer = this.useLayer1 ? this.layer1 : this.layer2\r\n          layer.scale({\r\n            x: latest,\r\n            y: latest,\r\n          })\r\n        },\r\n        onComplete: () => {\r\n          // 切换图层\r\n          this.useLayer1 = !this.useLayer1\r\n          // 动画完成后将缩放值重置为1\r\n          this.scale = 1\r\n          this.scaleTmp = 1\r\n          // 根据最终缩放值重新计算需要的瓦片并渲染\r\n          this.renderTiles(true)\r\n        },\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.map {\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n\r\n.mapBox {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.line {\r\n  position: absolute;\r\n  background-color: #000;\r\n}\r\n\r\n.lineX {\r\n  left: 0;\r\n  top: 50%;\r\n  width: 100%;\r\n  height: 1px;\r\n}\r\n\r\n.lineY {\r\n  left: 50%;\r\n  top: 0;\r\n  height: 100%;\r\n  width: 1px;\r\n}\r\n\r\n.center {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n</style>\r\n","import { render } from \"./New.vue?vue&type=template&id=75dfd90f&scoped=true\"\nimport script from \"./New.vue?vue&type=script&lang=js\"\nexport * from \"./New.vue?vue&type=script&lang=js\"\n\nimport \"./New.vue?vue&type=style&index=0&id=75dfd90f&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\works\\\\学习\\\\web_map_demo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-75dfd90f\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=56304d7a&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=56304d7a&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\works\\\\学习\\\\web_map_demo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-56304d7a\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./New.vue?vue&type=style&index=0&id=75dfd90f&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=56304d7a&scoped=true&lang=css\""],"sourceRoot":""}